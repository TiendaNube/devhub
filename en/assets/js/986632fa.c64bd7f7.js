"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[453],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(n),h=i,m=p["".concat(c,".").concat(h)]||p[h]||d[h]||o;return n?a.createElement(m,r(r({ref:t},u),{},{components:n})):a.createElement(m,r({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:i,r[1]=s;for(var l=2;l<o;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2270:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>u});var a=n(7462),i=(n(7294),n(3905)),o=n(4774);const r={sidebar_position:1},s="Authentication",c={unversionedId:"applications/authentication",id:"applications/authentication",title:"Authentication",description:"This guide presents methods for application authentication with the Nuvemshop platform. Discover how to ensure security and authorized access for seamless integrations between your applications and our platform.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/applications/authentication.md",sourceDirName:"applications",slug:"/applications/authentication",permalink:"/devhub/en/docs/applications/authentication",draft:!1,editUrl:"https://github.com/TiendaNube/devhub-apps/tree/master/docs/applications/authentication.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"sidebar",previous:{title:"Overview",permalink:"/devhub/en/docs/applications/overview"},next:{title:"Integrated",permalink:"/devhub/en/docs/applications/native"}},l={},u=[{value:"API Authentication",id:"api-authentication",level:2},{value:"Access Tokens and Identification",id:"access-tokens-and-identification",level:2},{value:"Types of Authentication Methods",id:"types-of-authentication-methods",level:2},{value:"Obtaining the Access Token",id:"obtaining-the-access-token",level:2},{value:"Changing the Redirect URL",id:"changing-the-redirect-url",level:3},{value:"Making the Request with the cURL Code",id:"making-the-request-with-the-curl-code",level:3},{value:"How to Obtain a New cURL Code",id:"how-to-obtain-a-new-curl-code",level:3},{value:"Next Steps",id:"next-steps",level:2}],p={toc:u},d="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(d,(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"This guide presents methods for application authentication with the Nuvemshop platform. Discover how to ensure security and authorized access for seamless integrations between your applications and our platform."),(0,i.kt)("h2",{id:"api-authentication"},"API Authentication"),(0,i.kt)("p",null,"User authentication and authorization are provided through a restricted implementation of OAuth 2. Currently, we only support the ",(0,i.kt)("a",{parentName:"p",href:"https://oauth.net/2/grant-types/authorization-code/"},'"Authorization Code"')," flow for granting access. By following this flow, you obtain ",(0,i.kt)("a",{parentName:"p",href:"https://oauth.net/2/access-tokens/"},"access tokens")," that do not expire and remain valid until renewed."),(0,i.kt)("h2",{id:"access-tokens-and-identification"},"Access Tokens and Identification"),(0,i.kt)("p",null,"The access tokens we provide do not have an expiration date. They only become invalid when a new token is obtained or when the user uninstalls the application. Along with the access token, a ",(0,i.kt)("inlineCode",{parentName:"p"},"user_id")," is also provided, corresponding to the store ID. This ",(0,i.kt)("inlineCode",{parentName:"p"},"user_id")," is essential for making requests to our API and can also be used to authenticate application users on your site."),(0,i.kt)("p",null,"Authentication is a fundamental step to access our services via API. Be sure to include the ",(0,i.kt)("inlineCode",{parentName:"p"},"user_id")," in your requests to ensure proper authentication and authorization."),(0,i.kt)("h2",{id:"types-of-authentication-methods"},"Types of Authentication Methods"),(0,i.kt)("p",null,"The choice of authentication method depends on the type of application you are developing:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If you are creating external applications, with or without our template, you need to use OAuth 2."),(0,i.kt)("li",{parentName:"ul"},"For integrated applications with the Nuvemshop admin using Nexo, access tokens generated in the Nuvemshop admin are used.")),(0,i.kt)("p",null,"Our application creation templates already include an authentication system integrated with our API. This significantly reduces development time for partners who choose to use these templates. However, if the partner chooses not to use one of our templates, authentication can be done manually. Below, we will show you how this can be done effectively."),(0,i.kt)("h2",{id:"obtaining-the-access-token"},"Obtaining the Access Token"),(0,i.kt)(o.Alert,{appearance:"warning",title:"Attention",mdxType:"Alert"},"When you complete the acquisition process, you will receive a cURL code, essential for generating the access_token. It's important to note that this code is valid for only 5 minutes. Make sure to use it within that period to ensure successful access."),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"changing-the-redirect-url"},"Changing the Redirect URL"),(0,i.kt)("p",null,"If you have modified the redirect URL, please replace it and save the new URL at ",(0,i.kt)("inlineCode",{parentName:"p"},"https://partners.nuvemshop.com.br/applications/authentication/:app-id")," to access the page with the cURL code. The redirect URL field can be found in the ",(0,i.kt)("strong",{parentName:"p"},"Basic Data")," form."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Basic data",src:n(7079).Z,title:"Basic data",width:"342",height:"182"})),(0,i.kt)("p",null,"This step is crucial to ensure that redirection works correctly and that you can access the cURL code page without any issues. Be sure to update the redirect URL as needed."),(0,i.kt)("h3",{id:"making-the-request-with-the-curl-code"},"Making the Request with the cURL Code"),(0,i.kt)("p",null,"After completing the installation, you will be redirected to a new page containing the cURL code necessary to generate your ",(0,i.kt)("inlineCode",{parentName:"p"},"access_token"),". Simply copy this code and make the request using the tool of your choice."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Authentication cURL",src:n(4495).Z,title:"Authentication cURL",width:"600",height:"694"})),(0,i.kt)("p",null,"The structure of the generated cURL consists of:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"client_id"),": Your application's App ID;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"client_secret"),": Your client secret;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"code"),": The code obtained in the URL after installing the application in the demo store.")),(0,i.kt)("p",null,"This step is essential to successfully obtain the access_token and ensure authorized access to our platform."),(0,i.kt)("p",null,"If the request is successful, you will receive a response in a format similar to this example:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Authentication cURL Success",src:n(7570).Z,title:"Authentication cURL Success",width:"592",height:"563"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n    "access_token": "88a2fdd17e10327ed96f4f2dc96b00bca60dfe60",\n    "token_type": "bearer",\n    "scope": "write_products",\n    "user_id": 2093261\n}\n')),(0,i.kt)("p",null,"You can manually assemble the cURL command based on the provided example. Here's the cURL command to make the POST request using the mentioned information:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://www.tiendanube.com/apps/authorize/token" \\\n-d "client_id=client_id" \\\n-d "client_secret=client_secret" \\\n-d "code=code"\n')),(0,i.kt)("p",null,"Make sure to replace ",(0,i.kt)("inlineCode",{parentName:"p"},"client_id"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"client_secret"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"code")," with the correct values from your app created in the Partner Portal.\nRemember, you can run this command in a terminal or a tool that supports cURL to test the request and obtain the access_token."),(0,i.kt)("h3",{id:"how-to-obtain-a-new-curl-code"},"How to Obtain a New cURL Code"),(0,i.kt)("p",null,"To do this, follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"When you receive the alert indicating that the request was not confirmed, click the ",(0,i.kt)("strong",{parentName:"li"},"Try Again")," button."),(0,i.kt)("li",{parentName:"ol"},"You will be redirected to the ",(0,i.kt)("strong",{parentName:"li"},"My Apps")," section in the admin of your Demo Store."),(0,i.kt)("li",{parentName:"ol"},"In the admin of your demo store, in the ",(0,i.kt)("strong",{parentName:"li"},"My Apps")," section, check if the app is installed. If it's installed, proceed to ",(0,i.kt)("a",{parentName:"li",href:"/devhub/en/docs/applications/overview#uninstalling-an-app"},"uninstall it"),".")),(0,i.kt)("p",null,"If the request failed due to the expiration of the cURL code or some error, you can obtain a new code by ",(0,i.kt)("a",{parentName:"p",href:"/devhub/en/docs/applications/overview#uninstalling-an-app"},"uninstalling")," and ",(0,i.kt)("a",{parentName:"p",href:"/devhub/en/docs/applications/overview#installing-your-app"},"reinstalling")," your app in the store again."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Authentication curl fail",src:n(2093).Z,title:"Authentication curl fail",width:"592",height:"424"})),(0,i.kt)("p",null,"By following these steps, you'll be able to get a new valid cURL code and successfully resume the ",(0,i.kt)("a",{parentName:"p",href:"./authentication#getting-the-access-token"},"authentication")," process. Make sure to follow the instructions carefully to avoid future issues."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"next-steps"},"Next Steps"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Learn more about ",(0,i.kt)("a",{parentName:"li",href:"/devhub/en/docs/applications/overview"},"Apps"))))}h.isMDXComponent=!0},2093:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/authentication-curl-fail-61d7c15ac4a84e46c0333093f61e9c89.png"},7570:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/authentication-curl-success-e2aa019d780147ba42b63dd4cb6aa297.png"},4495:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/authentication-curl-f50d83da14011a400f25e349b78d0c55.png"},7079:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/card-basic-data-a4117a09abdd3517f9d2d80dfb39af0d.png"}}]);