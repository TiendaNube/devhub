"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[143],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=s(n),m=o,u=c["".concat(l,".").concat(m)]||c[m]||h[m]||i;return n?a.createElement(u,r(r({ref:t},d),{},{components:n})):a.createElement(u,r({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[c]="string"==typeof e?e:o,r[1]=p;for(var s=2;s<i;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1355:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var a=n(7462),o=(n(7294),n(3905));const i={title:"Integrated apps"},r="Integrated apps",p={unversionedId:"applications/native",id:"applications/native",title:"Integrated apps",description:"An integrated application is one that operates within the context of the Merchant's Admin, using an iframe to ensure integration and smoothness. This approach aims to provide more natural and integrated experiences for store management, enhancing interaction with external functionalities.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/applications/native.md",sourceDirName:"applications",slug:"/applications/native",permalink:"/devhub-apps/en/docs/applications/native",draft:!1,editUrl:"https://github.com/TiendaNube/devhub-apps/tree/master/docs/applications/native.md",tags:[],version:"current",frontMatter:{title:"Integrated apps"},sidebar:"sidebar",previous:{title:"Authentication",permalink:"/devhub-apps/en/docs/applications/authentication"},next:{title:"Externos",permalink:"/devhub-apps/en/docs/applications/standalone"}},l={},s=[{value:"Requirements for integrated applications",id:"requirements-for-integrated-applications",level:2},{value:"Development Start",id:"development-start",level:2},{value:"Integrated app",id:"integrated-app",level:3},{value:"Nexo",id:"nexo",level:3},{value:"Admin",id:"admin",level:3},{value:"App Initialization Flow",id:"app-initialization-flow",level:2},{value:"Choosing My Template",id:"choosing-my-template",level:2},{value:"Developer Mode",id:"developer-mode",level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Recommendations",id:"recommendations",level:2},{value:"Next Steps",id:"next-steps",level:2}],d={toc:s},c="wrapper";function h(e){let{components:t,...i}=e;return(0,o.kt)(c,(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"integrated-apps"},"Integrated apps"),(0,o.kt)("p",null,"An integrated application is one that operates within the context of the Merchant's Admin, using an iframe to ensure integration and smoothness. This approach aims to provide more natural and integrated experiences for store management, enhancing interaction with external functionalities."),(0,o.kt)("h2",{id:"requirements-for-integrated-applications"},"Requirements for integrated applications"),(0,o.kt)("p",null,"To develop an integrated application, it is crucial to understand the technical and functional requirements. Integration is done through ",(0,o.kt)("a",{parentName:"p",href:"/devhub-apps/en/docs/developer-tools/nexo"},"Nexo"),", our communication tool between integrated apps and the Merchant's Admin. Design is guaranteed by our design system ",(0,o.kt)("a",{parentName:"p",href:"/devhub-apps/en/docs/developer-tools/nimbus"},"Nimbus"),", which ensures interface and experience standardization, streamlining development. It is essential to use the ",(0,o.kt)("a",{parentName:"p",href:"https://react.dev"},"React")," technology stack on the frontend since ",(0,o.kt)("strong",{parentName:"p"},"Nimbus")," is optimized for this platform."),(0,o.kt)("h2",{id:"development-start"},"Development Start"),(0,o.kt)("p",null,"Before we begin, we will provide an overview to understand the main actors and their roles in the initiation flow."),(0,o.kt)("p",null,"We identify three actors who interact with each other: the app developed by the partner (called ",(0,o.kt)("strong",{parentName:"p"},'"Integrated app"'),"), the Merchant's Admin (called ",(0,o.kt)("strong",{parentName:"p"},'"Admin"'),"), and the SDK that enables the connection between the Merchant's Admin and the integrated app (called ",(0,o.kt)("strong",{parentName:"p"},'"Nexo"'),"). We will explore the responsibilities of each of these actors."),(0,o.kt)("h3",{id:"integrated-app"},"Integrated app"),(0,o.kt)("p",null,"This is the app you will develop. The final app will be publicly accessible through a URL. It will be loaded into the Admin through an iframe, which requires a public URL for the app. The public URL is provided during the app's creation in the ",(0,o.kt)("a",{parentName:"p",href:"https://partners.nuvemshop.com.br"},"Partner Portal"),"."),(0,o.kt)("p",null,"To ensure compatibility of the ",(0,o.kt)("strong",{parentName:"p"},'"Integrated app"')," with the ",(0,o.kt)("strong",{parentName:"p"},"Admin"),", it is essential to have the ",(0,o.kt)("strong",{parentName:"p"},"Nexo")," installed and configured. ",(0,o.kt)("a",{parentName:"p",href:"/devhub-apps/en/docs/developer-tools/nexo"},"In this documentation"),", you will find detailed information on how Nexo works."),(0,o.kt)("p",null,"At this moment, we will only address the fundamental steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To initiate communication between the ",(0,o.kt)("strong",{parentName:"p"},'"Integrated app"')," and the ",(0,o.kt)("strong",{parentName:"p"},"Admin"),", you must use ",(0,o.kt)("strong",{parentName:"p"},"Nexo"),". Below is a code snippet demonstrating how this is done:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'// nexoClient.ts\nimport nexo from "@tiendanube/nexo";\n\nconst instance = nexo.create({\n  clientId: "123",\n  log: true,\n});\n\nexport default instance;\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"After establishing communication, the ",(0,o.kt)("strong",{parentName:"p"},'"Integrated app"')," must explicitly notify the ",(0,o.kt)("strong",{parentName:"p"},"Admin")," that it is ready to be displayed. This is done at the starting point of the React application, as shown in the code snippet below:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'import { useEffect, useState } from "react";\nimport { connect, iAmReady } from "@tiendanube/nexo/helpers";\nimport nexo from "./nexoClient";\n\nconst App: React.FC = () => {\n  const [isConnect, setIsConnect] = useState(false);\n\n  useEffect(() => {\n    connect(nexo).then(async () => {\n      setIsConnect(true);\n      iAmReady(nexo);\n    });\n  }, []);\n\n  if (!isConnect) return <div>connecting..</div>;\n\n  return <div>My app</div>;\n};\n\nexport default App;\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Finally, you will implement the business model logic of the ",(0,o.kt)("strong",{parentName:"p"},'"Integrated app"')," using the various actions we provide in Nexo. Check the list of available actions ",(0,o.kt)("a",{parentName:"p",href:"/devhub-apps/en/docs/developer-tools/nexo#actions"},"here"),"."))),(0,o.kt)("h3",{id:"nexo"},"Nexo"),(0,o.kt)("p",null,"Nexo is the SDK that enables communication between ",(0,o.kt)("strong",{parentName:"p"},"Admin")," and the ",(0,o.kt)("strong",{parentName:"p"},"Integrated app"),". Developed by Nuvemshop, it is TypeScript compatible and can be accessed through NPM."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Acts as the communication bridge between ",(0,o.kt)("strong",{parentName:"li"},"Admin")," and the ",(0,o.kt)("strong",{parentName:"li"},"Integrated app"),"."),(0,o.kt)("li",{parentName:"ul"},"Defines and manages available actions, which are exchanged through messages. See the list of available actions ",(0,o.kt)("a",{parentName:"li",href:"/devhub-apps/en/docs/developer-tools/nexo#actions"},"here"),"."),(0,o.kt)("li",{parentName:"ul"},"Provides tools to facilitate action implementation in the app. Learn more about Helpers ",(0,o.kt)("a",{parentName:"li",href:"/devhub-apps/en/docs/developer-tools/nexo#helpers"},"here"),".")),(0,o.kt)("h3",{id:"admin"},"Admin"),(0,o.kt)("p",null,"The actor ",(0,o.kt)("strong",{parentName:"p"},"Admin")," plays a fundamental role in managing the currently logged-in Nuvemshop merchant, including:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Admin")," provides a specific development space that allows the creation and testing of your app without the need for approval in the App Store. We will explain how this can be done shortly."),(0,o.kt)("li",{parentName:"ul"},"Defines the app's access (routes): Nuvemshop will provide a route (URL) where your app will be invoked."),(0,o.kt)("li",{parentName:"ul"},"Establishes where the app should be loaded through an iframe."),(0,o.kt)("li",{parentName:"ul"},"Initializes Nexo to receive and send messages as needed for the app."),(0,o.kt)("li",{parentName:"ul"},"Checks if the app is ready to be displayed."),(0,o.kt)("li",{parentName:"ul"},"Manages session tokens and shares them with the app via ",(0,o.kt)("strong",{parentName:"li"},"Nexo")," to identify the logged-in store.")),(0,o.kt)("h2",{id:"app-initialization-flow"},"App Initialization Flow"),(0,o.kt)("p",null,"Here is the initialization flow of a ",(0,o.kt)("strong",{parentName:"p"},"Integrated app")," from the moment the user decides to view the app:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The user chooses to open the app, which can be triggered through a saved favorite URL or a menu option."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Admin")," obtains app information and loads the app into the dashboard in an iframe while displaying a loading message."),(0,o.kt)("li",{parentName:"ol"},"After loading the ",(0,o.kt)("strong",{parentName:"li"},"Integrated app"),", it notifies ",(0,o.kt)("strong",{parentName:"li"},"Admin")," through ",(0,o.kt)("strong",{parentName:"li"},"Nexo")," about the connection and waits for confirmation that ",(0,o.kt)("strong",{parentName:"li"},"Admin")," is also connected."),(0,o.kt)("li",{parentName:"ol"},"Finally, when the ",(0,o.kt)("strong",{parentName:"li"},"Integrated app")," is ready to display content, it notifies through ",(0,o.kt)("strong",{parentName:"li"},"Nexo")," that it is ready. This allows ",(0,o.kt)("strong",{parentName:"li"},"Admin")," to replace the loading message with the ",(0,o.kt)("strong",{parentName:"li"},"Integrated app")," itself.")),(0,o.kt)("h2",{id:"choosing-my-template"},"Choosing My Template"),(0,o.kt)("p",null,"Our development tools at Nuvemshop include ",(0,o.kt)("a",{parentName:"p",href:"../developer-tools/templates#tipos-de-template"},"ready-made templates for app creation"),", covering all aspects of ",(0,o.kt)("a",{parentName:"p",href:"../applications/overview#autenticando-seu-aplicativo"},"authentication")," and construction. In the case of Integrated apps, the part related to ",(0,o.kt)("strong",{parentName:"p"},"Nexo")," is already pre-configured. We strongly recommend using these templates."),(0,o.kt)("p",null,"After selecting your desired template, we suggest reviewing the ",(0,o.kt)("strong",{parentName:"p"},'"README.md"')," file in the corresponding repository. There, you will find detailed guidance and practical steps to make the most of the capabilities offered by our development models."),(0,o.kt)("h2",{id:"developer-mode"},"Developer Mode"),(0,o.kt)("p",null,"To test and develop your Integrated app, it is essential to do so within the context of the Merchant's Admin. However, you need to have the Developer Mode option enabled. This feature is currently only available for stores that have been previously enabled. To gain access to this feature, please contact the Nuvemshop team."),(0,o.kt)("p",null,'When Developer Mode is activated, a new option is added to the menu with the name "Test App" or "Aplicaci\xf3n de Prueba," depending on the language. By selecting this option, you can enter the app\'s URL, which will be loaded into the Admin panel for testing and development.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Developer mode",src:n(316).Z,title:"Developer mode",width:"1078",height:"634"})),(0,o.kt)("h2",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#create-a-nexo-instance"},"How to create a Nexo instance?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#check-if-the-app-is-connected"},"How to initiate the app?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#enable-route-synchronization"},"How to synchronize URLs?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#get-session-token"},"How to configure the axios interceptor to get the session token for each request?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#actions"},"What actions are available?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../developer-tools/nexo#helpers"},"What tools are available for action management?"))),(0,o.kt)("h2",{id:"recommendations"},"Recommendations"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"We recommend following the UX/UI concepts defined by our design team. ",(0,o.kt)("a",{parentName:"li",href:"/devhub-apps/en/docs/design-guidelines/overview"},"Access the complete guide here"),"."),(0,o.kt)("li",{parentName:"ul"},"For apps published in our app store, we recommend reviewing our ",(0,o.kt)("a",{parentName:"li",href:"/devhub-apps/en/docs/homologation/overview"},"homologation checklist"),".")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"next-steps"},"Next Steps"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Learn more about ",(0,o.kt)("a",{parentName:"li",href:"/devhub-apps/en/docs/homologation/overview"},"Homologation"))))}h.isMDXComponent=!0},316:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dev-mode-8a4bb8a33d29c01e2af50dfdb618be0b.png"}}]);